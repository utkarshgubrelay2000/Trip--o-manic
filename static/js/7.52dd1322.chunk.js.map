{"version":3,"sources":["components/Summary/summary.js"],"names":["SumBox","React","lazy","Summary","divSummary","useState","tripsum","setTripSum","loading","setLoading","Error","setError","currentUser","localStorage","getItem","useEffect","tripSumaary","axios","get","then","r","key","data","User","push","id","console","log","catch","err","message","className","map","i","BookingDate","Bookingdate","Place","Persons","Person","Days","days","Date","to","style","color","textDecoration","textAlign","errorMessage"],"mappings":"qNAQMA,EAAOC,IAAMC,MAAK,kBAAI,kCA+FbC,UA7Ff,WAAoB,IAoCbC,EApCY,EAEYC,mBAAS,IAFrB,mBAERC,EAFQ,KAEAC,EAFA,OAGYF,oBAAS,GAHrB,mBAGRG,EAHQ,KAGAC,EAHA,OAIQJ,mBAAS,MAJjB,mBAIRK,EAJQ,KAIFC,EAJE,KAMbC,EAAYC,aAAaC,QAAQ,QA+EpC,OA7ECC,qBAAU,WAGN,IAAMC,EAAY,GAClBP,GAAW,GACXQ,IAAMC,IAAI,iDAAiDC,MAAK,SAAAC,GAG5D,IAAI,IAAIC,KADRZ,GAAW,GACIW,EAAEE,KAE1BF,EAAEE,KAAKD,GAAKE,OAAOX,GAElBI,EAAYQ,KAAZ,2BACOJ,EAAEE,KAAKD,IADd,IAEII,GAAGJ,KAICd,EAAWS,GACZU,QAAQC,IAAIX,MAGZY,OAAM,SAAAC,GAELlB,EAASkB,EAAIC,cAEnB,CAAClB,IAqCAR,EAlCAI,EAkCW,kBAAC,IAAD,MAhClB,yBAAKuB,UAAU,sBACR,6BACA,yBAAKA,UAAU,YACtB,wBAAKA,UAAU,MAAf,cAGMzB,EAAQ,GAAIA,EAAQ0B,KAAI,SAAAC,GACtB,OACI,kBAACjC,EAAD,CAAQkC,YAAaD,EAAEE,YAAaC,MAAOH,EAAEG,MAAOC,QAASJ,EAAEK,OAAQC,KAAMN,EAAEO,KAAMC,KAAMR,EAAEQ,KAAMpB,IAAKY,EAAER,QAGhH,wBAAIM,UAAU,mBAAd,oEACA,yBAAKA,UAAU,aACrB,yBAAKA,UAAU,QACZ,kBAAC,IAAD,CAASW,GAAG,IAAIC,MAAO,CACnBC,MAAM,QACNC,eAAe,SAFnB,SAQH,yBAAKd,UAAU,UACZ,4CACkBnB,MAUfF,IACCN,EAAW,yBAAKuC,MAAO,CACnBG,UAAU,WAIV,2BAEI,kBAAC,IAAD,CAAQC,aAAcrC,OAI3B,6BAEHN","file":"static/js/7.52dd1322.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './summaryBox/summary.css'\r\n\r\nimport Spinner from '../../ui/spinner'\r\nimport Errorr from '../../ui/Error'\r\nimport axios from 'axios'\r\nimport { NavLink  } from 'react-router-dom'\r\n\r\nconst SumBox=React.lazy(()=>import ('./summaryBox/summarybox'))\r\n\r\nfunction  Summary(){\r\n    \r\n    const [tripsum,setTripSum]=useState([]);\r\n    const [loading,setLoading]=useState(false);\r\n    const [Error,setError]=useState(null);\r\n   \r\nconst currentUser=localStorage.getItem('user');\r\n\r\n    useEffect(()=>{\r\n      //  console.log('jj');\r\n        \r\n        const tripSumaary=[];\r\n        setLoading(true)\r\n        axios.get('https://trip-o-manic.firebaseio.com/Trip.json').then(r=>{\r\n         //   console.log(r.data);\r\n            setLoading(false)\r\n            for(let key in r.data){\r\n            //    console.log(key,r.data[key].User,currentUser)      \r\nif(r.data[key].User===currentUser){\r\n\r\n    tripSumaary.push({\r\n        ...r.data[key],\r\n        id:key\r\n    })\r\n}\r\n            }\r\n            setTripSum(tripSumaary)\r\n           console.log(tripSumaary);\r\n           \r\n        \r\n        }).catch(err=>{\r\n          //  console.log(err);\r\n            setError(err.message)\r\n        })\r\n    },[currentUser])\r\n   \r\n   let divSummary;\r\n   if(!loading){\r\n       divSummary= \r\n<div className='outerDiv container'>\r\n       <div >\r\n       <div className='upperDiv'  >\r\n<h3  className='H1'> History</h3>\r\n       </div>\r\n</div> \r\n    { tripsum[0]? tripsum.map(i=>{\r\n        return (\r\n            <SumBox BookingDate={i.Bookingdate} Place={i.Place} Persons={i.Person} Days={i.days} Date={i.Date} key={i.id}/>\r\n            )\r\n        })\r\n    : <h1 className='bookingNotFound'> Booking Not found its seem like you didn't have booked any trip</h1>}\r\n      <div className='bottomDiv'>\r\n<div className='back'>\r\n   <NavLink to='/' style={{\r\n       color:'white',\r\n       textDecoration:'none'\r\n   }}>\r\n        Back\r\n       </NavLink>\r\n       \r\n</div>\r\n<div className='logged'>\r\n   <h4>\r\n       Logged in As {currentUser}\r\n   </h4>\r\n\r\n</div>\r\n</div>\r\n    </div>\r\n   }\r\n   else {\r\n       divSummary=<Spinner/>  \r\n   }\r\n   if(Error){\r\n       divSummary=<div style={{\r\n           textAlign:\"center\",   \r\n        }}>\r\n          \r\n        \r\n           <p>\r\n               \r\n               <Errorr errorMessage={Error}/>\r\n           </p>\r\n       </div>\r\n   }\r\n   return(<div>\r\n     \r\n      {divSummary}\r\n\r\n       </div>\r\n     \r\n   ) \r\n}\r\nexport default Summary"],"sourceRoot":""}